
A<->B   B<->A   都需要代理的情况

1、创建对象时，先判断是否需要AOP，需要则放入三级缓存，不需要则放入二级缓存。
2、此时A在三级缓存中，B也在三级缓存中，B要注入A对象，则在三级缓存中拿到并移除A，通过工厂创建A的代理对象，放入二级缓存。
   再次判断当前B对象是否需要代理，需要就先从二级缓存中拿出B，放入一级缓存中，二级缓存中没有就去三级缓存移存中创建B的代理对象并且移除三级缓存移存中的B，直接放在一级缓存中。
   此时二级缓存中有A的代理对象，一级缓存中有A的代理对象，三级缓存已经清空。此时创建B的流程走完，A继续赋值B，判断A需要代理对象，从二级缓存中拿到并且移除A，本身就是代理对象，
   将A的代理对象放入一级缓存中，完成A和B的循环依赖代理的解决。

detail：通过工厂创建的代理对象永远先放在二级缓存，在最后一步才将其放入一级缓存。